{"version":3,"sources":["webpack:///./src/components/PlanQualityExplorer.vue?7cb6","webpack:///src/components/PlanQualityExplorer.vue","webpack:///./src/components/PlanQualityExplorer.vue?9ace","webpack:///./src/components/PlanQualityExplorer.vue","webpack:///./src/components/pqrBoxplot.vue?7b6b","webpack:///src/components/pqrBoxplot.vue","webpack:///./src/components/pqrBoxplot.vue?f86b","webpack:///./src/components/pqrBoxplot.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","mini","on","$event","_v","print2pdf","staticStyle","cc_folders","retrieve_templates","sel_template","model","value","callback","$$v","sel_folder","expression","cc_templates","laterality","retrieve_dose_levels","retrieve_patients","retrieve_stats","lat_opts","dose_opts","fractional_dose","_e","scopedSlots","_u","key","fn","_s","plusminus","_l","item","Priority","StructureTemplate","ConstraintToPresent","GoalLimitToPresent","stats","mean","toFixed","std","reporter","proxy","pt_counter","mrn","course_id","plan_id","stopPropagation","refresh_templates","clear_templates","staticRenderFns","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VCombobox","VContainer","VDivider","VIcon","VList","VListItem","VListItemContent","VListItemIcon","VListItemTitle","VNavigationDrawer","VRow","VSimpleTable","plot_id"],"mappings":"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","file":"js/chunk-6899fd02.f5e635e3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"pqexplorer\"}},[_c('v-navigation-drawer',{staticClass:\"no-print\",attrs:{\"app\":\"\",\"clipped\":\"\",\"permanent\":\"\",\"mini-variant\":_vm.mini,\"mini-variant-width\":\"80\",\"stateless\":\"\",\"dark\":\"\",\"width\":\"320\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-icon',{on:{\"click\":function($event){_vm.mini=!_vm.mini}}},[_vm._v(\"mdi-unfold-more-vertical\")])],1)],1),_c('v-divider'),_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.print2pdf()}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-printer\")])],1),_c('v-list-item-title',[_vm._v(\"Print to PDF\")])],1)],1)],1),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"UCLA Radiation Oncology\")]),_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Plan Quality Database Explorer\")])])],1),_c('v-row',[_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Population Statistics\")]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-combobox',{attrs:{\"label\":\"Constraint Folder\",\"hint\":\"Select a treatment area\",\"items\":_vm.cc_folders},on:{\"change\":function($event){_vm.retrieve_templates();_vm.sel_template=''}},model:{value:(_vm.sel_folder),callback:function ($$v) {_vm.sel_folder=$$v},expression:\"sel_folder\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-combobox',{attrs:{\"label\":\"Constraint Template\",\"hint\":\"Select a template to view constraints\",\"items\":_vm.cc_templates,\"item-text\":\"template\",\"return-object\":\"\"},on:{\"change\":function($event){_vm.laterality = _vm.sel_template.laterality;_vm.retrieve_dose_levels();_vm.retrieve_patients();_vm.retrieve_stats()}},model:{value:(_vm.sel_template),callback:function ($$v) {_vm.sel_template=$$v},expression:\"sel_template\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-combobox',{attrs:{\"label\":\"Laterality\",\"items\":_vm.lat_opts},on:{\"change\":function($event){_vm.retrieve_patients();_vm.retrieve_stats()}},model:{value:(_vm.laterality),callback:function ($$v) {_vm.laterality=$$v},expression:\"laterality\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-combobox',{attrs:{\"label\":\"Dose Per Fraction (cGy)\",\"items\":_vm.dose_opts},on:{\"change\":function($event){_vm.retrieve_patients();_vm.retrieve_stats()}},model:{value:(_vm.fractional_dose),callback:function ($$v) {_vm.fractional_dose=$$v},expression:\"fractional_dose\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.sel_template)?_c('h2',[_vm._v(\"Constraints\")]):_vm._e()]),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.sel_template)?_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Structure\")]),_c('th',[_vm._v(\"Constraint\")]),_c('th',[_vm._v(\"Goal\")]),(_vm.stats)?_c('th',[_vm._v(\"UCLA Population\"),_c('br'),_vm._v(\"(Mean \"+_vm._s(_vm.plusminus)+\" St. Dev.)\")]):_vm._e(),(_vm.stats)?_c('th',[_vm._v(\"UCLA Population Distribution\")]):_vm._e()]),_vm._l((_vm.sel_template.constraints),function(item){return _c('tr',{key:item.Priority},[_c('td',[_vm._v(_vm._s(item.StructureTemplate))]),_c('td',[_vm._v(_vm._s(item.ConstraintToPresent))]),_c('td',[_vm._v(_vm._s(item.GoalLimitToPresent))]),(_vm.stats)?_c('td',[_vm._v(_vm._s(_vm.stats[item.Priority].mean.toFixed(2))+\" \"+_vm._s(_vm.plusminus)+\" \"+_vm._s(_vm.stats[item.Priority].std.toFixed(2)))]):_vm._e(),(_vm.stats)?_c('td',[_c('pqrBoxplot',{key:_vm.stats[item.Priority].mean,attrs:{\"p_item\":item,\"p_stats\":_vm.stats[item.Priority],\"p_flip\":_vm.reporter}})],1):_vm._e()])})],2)]},proxy:true}],null,false,3659894850)}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.pt_counter > 0)?_c('h2',[_vm._v(\"Patients (\"+_vm._s(_vm.pt_counter)+\")\")]):_vm._e()]),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.pt_counter > 0)?_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('th',[_vm._v(\"MRN\")]),_c('th',[_vm._v(\"Course\")]),_c('th',[_vm._v(\"Plan\")]),_c('th',[_vm._v(\"Laterality\")])]),_vm._l((_vm.cc_patients),function(item){return _c('tr',{key:item.mrn},[_c('td',[_vm._v(_vm._s(item.mrn))]),_c('td',[_vm._v(_vm._s(item.course_id))]),_c('td',[_vm._v(_vm._s(item.plan_id))]),_c('td',[_vm._v(_vm._s(item.laterality))])])})],2)]},proxy:true}],null,false,1447051112)}):_vm._e()],1)],1)],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"#2774AE\",\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refresh_templates()}}},[_vm._v(\" Refresh List \")]),_c('v-btn',{attrs:{\"color\":\"#2774AE\",\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clear_templates()}}},[_vm._v(\" Clear \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"pqexplorer\">\n        <v-navigation-drawer \n            app \n            clipped\n            permanent\n            :mini-variant=\"mini\"\n            mini-variant-width=\"80\"\n            stateless\n            dark \n            width=\"320\" \n            class=\"no-print\">\n            <v-list-item>\n                <v-list-item-content>\n                    <v-icon @click=\"mini=!mini\">mdi-unfold-more-vertical</v-icon>\n                </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <v-list>\n                <!-- v-list-item @click=\"loading=true,importJSON()\">\n                    <v-list-item-icon><v-icon>mdi-file-import</v-icon></v-list-item-icon>\n                    <v-list-item-title>Import Multiple PQ Files</v-list-item-title>\n                </v-list-item -->\n                <v-list-item \n                    @click=\"print2pdf()\">\n                    <v-list-item-icon><v-icon>mdi-printer</v-icon></v-list-item-icon>\n                    <v-list-item-title>Print to PDF</v-list-item-title>\n                </v-list-item>\n            </v-list>\n        </v-navigation-drawer>\n        <v-container>\n            <v-row>\n                <v-col cols=\"12\">\n                    <h2 style=\"text-align:center;\">UCLA Radiation Oncology</h2>\n                    <h2 style=\"text-align:center;\">Plan Quality Database Explorer</h2>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col>\n                    <v-card>\n                        <v-card-title>Population Statistics</v-card-title>\n                        <v-card-text>\n                            <v-container>\n                                <v-row>\n                                    <v-col cols=\"6\">\n                                        <v-combobox\n                                            label=\"Constraint Folder\"\n                                            hint=\"Select a treatment area\"\n                                            v-model=\"sel_folder\"\n                                            :items=\"cc_folders\"\n                                            @change=\"retrieve_templates();sel_template=''\">\n                                        </v-combobox>\n                                    </v-col>\n                                    <v-col cols=\"6\">\n                                        <v-combobox\n                                            label=\"Constraint Template\"\n                                            hint=\"Select a template to view constraints\"\n                                            v-model=\"sel_template\"\n                                            :items=\"cc_templates\"\n                                            item-text=\"template\"\n                                            @change=\"laterality = sel_template.laterality;retrieve_dose_levels();retrieve_patients();retrieve_stats()\"\n                                            return-object>\n                                        </v-combobox>\n                                    </v-col>\n                                    <v-col cols=\"3\">\n                                        <v-combobox\n                                            label=\"Laterality\"\n                                            v-model=\"laterality\"\n                                            :items=\"lat_opts\"\n                                            @change=\"retrieve_patients();retrieve_stats()\">\n                                        </v-combobox>\n                                    </v-col>\n                                    <v-col cols=\"3\">\n                                        <v-combobox\n                                            label=\"Dose Per Fraction (cGy)\"\n                                            v-model=\"fractional_dose\"\n                                            :items=\"dose_opts\"\n                                            @change=\"retrieve_patients();retrieve_stats()\">\n                                        </v-combobox>\n                                    </v-col>\n                                    <v-col cols=\"12\">\n                                        <h2 v-if=\"sel_template\">Constraints</h2>\n                                    </v-col>\n                                    <v-col cols=\"12\">\n                                        <v-simple-table dense v-if=\"sel_template\">\n                                            <template v-slot:default>\n                                                <tbody>\n                                                    <tr>\n                                                        <th>Structure</th>\n                                                        <th>Constraint</th>\n                                                        <th>Goal</th>\n                                                        <th v-if=stats>UCLA Population<br>(Mean {{plusminus}} St. Dev.)</th>\n                                                        <th v-if=stats>UCLA Population Distribution</th>\n                                                    </tr>\n                                                    <tr v-for=\"item in sel_template.constraints\" :key='item.Priority'>\n                                                        <td>{{item.StructureTemplate}}</td>\n                                                        <td>{{item.ConstraintToPresent}}</td>\n                                                        <td>{{item.GoalLimitToPresent}}</td>\n                                                        <td v-if=stats>{{stats[item.Priority].mean.toFixed(2)}} {{plusminus}} {{stats[item.Priority].std.toFixed(2)}}</td>\n                                                        <td v-if=stats>\n                                                            <pqrBoxplot :key=\"stats[item.Priority].mean\"\n                                                                :p_item=\"item\"\n                                                                :p_stats=\"stats[item.Priority]\"\n                                                                :p_flip=\"reporter\">\n                                                            </pqrBoxplot>\n                                                        </td>\n                                                    </tr>\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                    </v-col>\n                                    <v-col cols=\"12\">\n                                        <h2 v-if=\"pt_counter > 0\">Patients ({{pt_counter}})</h2>\n                                    </v-col>\n                                    <v-col cols=\"12\">\n                                        <v-simple-table dense v-if=\"pt_counter > 0\">\n                                            <template v-slot:default>\n                                                <tbody>\n                                                    <tr>\n                                                        <th>MRN</th>\n                                                        <th>Course</th>\n                                                        <th>Plan</th>\n                                                        <th>Laterality</th>\n                                                    </tr>\n                                                    <tr v-for=\"item in cc_patients\" :key='item.mrn'>\n                                                        <td>{{ item.mrn }}</td>\n                                                        <td>{{ item.course_id }}</td>\n                                                        <td>{{ item.plan_id }}</td>\n                                                        <td>{{ item.laterality}}</td>\n                                                    </tr>\n                                                </tbody>\n                                            </template>\n                                        </v-simple-table>\n                                    </v-col>\n                                </v-row>\n                            </v-container>\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-btn \n                                @click.stop=\"refresh_templates()\"\n                                color=\"#2774AE\" \n                                text>\n                                Refresh List\n                            </v-btn>\n                            <v-btn\n                                @click.stop=\"clear_templates()\"\n                                color=\"#2774AE\"\n                                text>\n                                Clear\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\n//import Plotly from 'plotly.js-dist';\nimport pqrBoxplot from '../components/pqrBoxplot';\n\nexport default {\n    name: 'PQExplorer',\n    data() {\n        return {\n            mini: true,\n            cc_folders: [],\n            sel_folder: null,\n            cc_templates: [],\n            sel_template: null,\n            pt_counter: 0,\n            cc_patients: [],\n            laterality: null,\n            lat_opts: ['Left', 'Right', 'Both', 'None'],\n            fractional_dose: 'All',\n            dose_opts: ['All'],\n            stats: null,\n            plusminus: '\\xB1',\n            reporter: false,\n        }\n    },\n    mounted() {\n        this.retrieve_folders();\n    },\n    methods: {\n        retrieve_folders () {\n            fetch(\"/api/pqr_templates/folders\")\n                .then(response => response.json())\n                .then(result => {\n                    //console.log(result);\n                    this.messages = result;\n                    this.cc_folders = result.folders;\n                })\n        },\n        retrieve_templates () {\n            var _request = \"/api/pqr_templates/templates/\";\n            _request += this.sel_folder;\n            \n            fetch(_request)\n                .then(response => response.json())\n                .then(result => {\n                    //console.log(result);\n                    this.messages = result;\n                    this.cc_templates = result.templates;\n                })\n        },\n        retrieve_dose_levels () {\n            this.dose_opts = ['All'];\n\n            var _request = \"/api/pqr_patients/dose_levels/\";\n            _request += this.sel_folder;\n            _request += \"/\";\n            _request += this.sel_template.template;\n            _request += \"/\";\n            _request += this.laterality;\n\n            fetch(_request)\n                .then(response => response.json())\n                .then(result => {\n                    //console.log(result);\n                    this.dose_opts = result.dose_levels;\n                    this.dose_opts.push('All');\n                })\n        },\n        retrieve_patients () {\n            var _request = \"/api/pqr_patients/template/\";\n            _request += this.sel_folder;\n            _request += \"/\";\n            _request += this.sel_template.template;\n            _request += \"/\";\n            _request += this.laterality;\n            _request += \"/\";\n            _request += this.fractional_dose;\n\n            fetch(_request)\n                .then(response => response.json())\n                .then(result => {\n                    //console.log(result);\n                    this.messages = result;\n                    this.cc_patients = result.patients;\n                    this.pt_counter = result.pt_count;\n                })\n        },\n        retrieve_stats () {\n            this.stats = null;\n\n            var _request = \"/api/pqr_patients/stats/\";\n            _request += this.sel_folder;\n            _request += \"/\";\n            _request += this.sel_template.template;\n            _request += \"/\";\n            _request += this.laterality;\n            _request += \"/\";\n            _request += this.fractional_dose;\n\n            fetch(_request)\n                .then(response => response.json())\n                .then(result => {\n                    var temp = result.stats;\n                    if (temp.length > 0) {\n                        this.stats = {};\n                    }\n                    for (var i=0; i<temp.length; i++) {\n                        let mean = temp[i].data.reduce((a, b) => a + b) / temp[i].data.length;\n                        let sum_sq = 0.0;\n                        for (let j = 0; j < temp[i].data.length; j++)\n                        {\n                            sum_sq += Math.pow((temp[i].data[j] - mean), 2);\n                        }\n                        let std = Math.sqrt((sum_sq/temp[i].data.length));\n\n                        this.stats[temp[i]._id] = {\n                            [\"data\"]: temp[i].data,\n                            [\"mean\"]: mean,\n                            [\"std\"]: std\n                        }\n                    }\n                    //console.log(this.stats);\n                })\n        },\n        refresh_templates () {\n            this.retrieve_folders();\n            this.retrieve_templates();\n        },\n        clear_templates() {\n            this.sel_template = '';\n            this.sel_folder = '';\n            this.stats = null;\n            this.laterality = null;\n            this.fractional_dose = null;\n            this.pt_counter = 0;\n        },\n        print2pdf() {\n            window.print();\n        },\n    },\n    components: {\n        pqrBoxplot,\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlanQualityExplorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlanQualityExplorer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlanQualityExplorer.vue?vue&type=template&id=f4fcfde8&\"\nimport script from \"./PlanQualityExplorer.vue?vue&type=script&lang=js&\"\nexport * from \"./PlanQualityExplorer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VCombobox,VContainer,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VNavigationDrawer,VRow,VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.checker)?_c('v-card',{attrs:{\"outlined\":\"\"}},[_c('div',{attrs:{\"align\":\"center\",\"id\":_vm.plot_id}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card outlined v-if=\"checker\">\n        <div align=\"center\" :id=\"plot_id\"/>\n    </v-card>\n</template>\n\n<script>\nimport Plotly from 'plotly.js-dist'\n\nexport default {\n    name: 'pqrBoxplot',\n    props: ['p_item','p_stats', 'p_flip'],\n    data: function() {\n        return ({\n            item: this.p_item,\n            stats: this.p_stats,\n            flipper: this.p_flip\n        })\n    },\n    computed: {\n        plot_id () {\n            let temp = 'boxplot_' + this.item.Priority;\n            return temp;\n        },\n        idx () {\n            return this.item.PriorityMatch;\n        },\n        checker () {\n            if (!this.stats) {\n                return false;\n            }\n            else if (this.stats.data.length > 0) {\n                return true;\n            } else { \n                return false;\n            }\n        },\n        marker_color () {\n            let fonts = {\n                    \"Pass\": \"green\",\n                    \"Fail\": \"red\",\n                    \"Condition\": \"orange\",\n                    \"Verified\": \"blue\",\n                    \"\": \"black\" };\n            return fonts[this.item.PassFail];\n        },\n        value() {\n            let val = 0.0;\n            if (this.flipper) { val = this.item.ActualValue; }\n            return val;\n        },\n        x_data () {\n            if (this.idx < 0) { return [0]; }\n            else {\n                return this.stats.data;\n            }\n        },\n        y_data () {\n            if (this.idx < 0) { return [0]; }\n            else {\n                let y = new Array(this.stats.data.length).fill(0);\n                return y;\n            }\n        },\n        ideal () {\n            let str = this.item.GoalLimitToPresent;\n            let str2 = str.split(this.item.GoalLimitActualUnit,1);\n            let str3 = str2[0].split(\"-\",2);\n            return parseFloat(str3[0]);\n        },\n        acceptable () {\n            let str = this.item.GoalLimitToPresent;\n            let str2 = str.split(this.item.GoalLimitActualUnit,1);\n            if (str2[0].includes(\"-\"))\n            {\n                let str3 = str2[0].split(\"-\",2);\n                return parseFloat(str3[1]);\n            }\n            else { return null; }\n        },\n        accept_x () {\n            return [this.acceptable];\n        },\n        goal_x () {\n            return [this.ideal];\n        },\n        goal_y () {\n            return [0];\n        },\n        boxpoints () {\n            if (this.flipper) { return 'suspectedoutliers' }\n            else { return 'all' }\n        },\n        boxcolors () {\n            if (this.flipper) { return 'rgba(219, 64, 82, 0.6)' }\n            else { return 'rgba(20,120,180)' }\n        },\n        trace1() {\n            let trace = {\n                type: 'box',\n                name: 'UCLA Patients',\n                x: this.x_data,\n                y: this.y_data,\n                hoverdata: 'x',\n                orientation: 'h',\n                boxpoints: this.boxpoints, \n                boxmean: 'sd',\n                jitter: 0.3,\n                whiskerwidth: 0.5,\n                marker: {\n                    size: 3,\n                    color: this.boxcolors,\n                    outliercolor: 'rgba(219, 64, 82, 0.6)',\n                    line: {\n                        outliercolor: 'rgba(219, 64, 82, 1.0)',\n                        outlierwidth: 1\n                    },\n                    opacity: 0.5\n                },\n                line: {\n                    color: 'rgb(20,120,180)',\n                    opacity: 0.75,\n                    width: 1\n                }\n            }\n            return trace;\n        },\n        trace2() {\n            let trace = {\n                x: [this.value],\n                y: [0],\n                hoverdata: 'x',\n                type: 'scatter',\n                name: 'Current Patient',\n                mode: 'markers',\n                marker: {\n                    color: this.marker_color,\n                    size: 10,\n                    opacity: 0.5,\n                }\n            }\n            return trace;\n        },\n        trace3() {\n            let trace = {\n                x: this.goal_x,\n                y: this.goal_y,\n                hoverdata: 'x',\n                type: 'box',\n                name: 'Goal',\n                orientation: 'h',\n                boxpoints: false,\n                whiskerwidth: 1.0,\n                opacity: 0.7,\n                line: {\n                    color: \"darkgreen\",\n                    width: 1\n                }\n            }\n            return trace;\n        },\n        trace4() {\n            let trace = {\n                x: this.accept_x,\n                y: this.goal_y,\n                hoverdata: 'x',\n                type: 'box',\n                name: 'Goal',\n                orientation: 'h',\n                boxpoints: false,\n                whiskerwidth: 1.0,\n                opacity: 0.5,\n                line: {\n                    color: \"orange\",\n                    width: 1\n                }\n            }\n            return trace;\n        },\n        layout() {\n            let lay = {\n                showlegend: false,\n                xaxis: {\n                    showgrid: true,\n                    gridcolor: 'rgb(220, 220, 220)',\n                    zeroline: false,\n                    rangemode: \"nonnegative\",\n                    tickfont: {\n                        size: 10\n                    },\n                    hoverformat: '.1f',\n                },\n                yaxis: {\n                    showline: false,\n                    visible: false\n                },\n                width: 225,\n                height: 60,\n                margin: {\n                    l: 16,\n                    r: 16,\n                    b: 24,\n                    t: 2,\n                    pad: 0\n                },\n                hoverlabel: {\n                    size: 7,\n                }\n            }\n            return lay;\n        },\n    },\n    mounted() {\n        this.updatePlot();\n        this.$watch('stats', this.updatePlot);\n    },\n    methods: {\n        updatePlot() {\n            if (document.getElementById(this.plot_id)) {\n                Plotly.purge(this.plot_id);\n            }\n            var traces = null;\n            if (this.flipper) {\n                traces = [this.trace1, this.trace2, this.trace3, this.trace4];\n            }\n            else {\n                traces = [this.trace1, this.trace3, this.trace4];\n            }\n\n            if (this.checker) {\n                Plotly.newPlot(this.plot_id, traces, this.layout);\n            }\n        }\n    },\n    watch: {\n        chart: {\n            handler: function() {\n                Plotly.react(\n                    this.$refs[this.chart.uuid],\n                    this.chart.traces,\n                    this.chart.layout\n                );\n            },\n            deep: true\n        }\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pqrBoxplot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pqrBoxplot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pqrBoxplot.vue?vue&type=template&id=7500f354&\"\nimport script from \"./pqrBoxplot.vue?vue&type=script&lang=js&\"\nexport * from \"./pqrBoxplot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard})\n"],"sourceRoot":""}